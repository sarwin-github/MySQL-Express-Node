<!doctype html>
<html>
<head>
    <title><%= locals.title %></title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="MySQL Node Express">
    <meta name="keywords" content="MySQL Node Express">
    <link href="/public/css/styles.scss" rel="stylesheet">
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <script src="/js/jquery.js"></script>
    <script src="/js/jquery.min.js"></script>
    <script src="/js/bootstrap.bundle.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <style type="text/css">
        ::-webkit-scrollbar {
            width: 8px;
        }
         
        ::-webkit-scrollbar-track {
            -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3); 
        }
         
        ::-webkit-scrollbar-thumb {
            background: #4B515D;
            -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.5); 
        }
    </style>
</head>
<body>
<div class="container-fluid" style="padding:0px;">
	<div class="container">
		<div class="row">
			<div class="col-md-12 p-5 mt-2">      
                <h3>List of Books <span class="float-right"><a href="/" style="font-size: 15px;">Home</a></span></h3><br><br>
				<table class="table table-bordered">
					<thead>
                        <th></th>
                        <th>Title</th>
                        <th>Author</th>
                        <th>Price</th>
                        <th class="text-center"><a href="/books/create" class="btn btn-sm btn-success px-5">Add new book</a></th>    
                    </thead>
					<tbody>
                        <% books.forEach(function(book){%>
                        <!-- Modal -->
                        <div class="modal fade" id="Delete<%= book.id %>" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
                          <div class="modal-dialog" role="document">
                            <div class="modal-content">
                              <div class="modal-header">
                                <h5 class="modal-title" id="modalLabel">Delete a Book</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                  <span aria-hidden="true">&times;</span>
                                </button>
                              </div>
                              <div class="modal-body">
                                Are you sure you want to delete this book?
                              </div>
                              <div class="modal-footer">
                                <form action="/books/delete/<%= book.id %>?_method=DELETE" method="POST">
                                    <input type="hidden" name="_csrf" value="<%= locals._csrf %>">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                    <button type="submit" class="btn btn-danger">Delete</button>
                                </form>
                              </div>
                            </div>
                          </div>
                        </div>

                        <tr>
                            <td><%= book.id %></td>
                            <td><%= book.BookName%></td>
                            <td><%= book.AuthorName%></td>
                            <td>$<%= book.Price %></td>
                            <td class="text-center">
                                <a href="/books/update/<%= book.id %>">Update</a> | 
                                <a href="#" data-toggle="modal" data-target="#Delete<%= book.id %>">Delete</a>
                            </td>
                        </tr>               
                        <%});%>
                    </tbody>
				</table>
			</div>
		</div>
	</div>
</div>
</body>
</html>